{% extends 'admin_base.html' %}

{% block title %}Editar Manutenção #{{ manutencao.id }}{% endblock %}

{% block content %}
    <div class="card shadow-sm">
        <div class="card-header">
            <h3>Editando Manutenção #{{ manutencao.id }} para {{ manutencao.veiculo.placa }}</h3>
        </div>
        <div class="card-body">
            <form method="post" novalidate>
                {% csrf_token %}
                
                {# Renderiza os campos individualmente para melhor controle #}
                <div class="row">
                    <div class="col-md-6 mb-3">
                        {{ form.tipo.label_tag }} {{ form.tipo }}
                        {% if form.tipo.errors %}<div class="text-danger small">{{ form.tipo.errors|striptags }}</div>{% endif %}
                    </div>
                     <div class="col-md-6 mb-3">
                        {{ form.data.label_tag }} {{ form.data }}
                         {% if form.data.errors %}<div class="text-danger small">{{ form.data.errors|striptags }}</div>{% endif %}
                    </div>
                </div>
                <div class="mb-3">
                    {{ form.descricao.label_tag }} {{ form.descricao }}
                    {% if form.descricao.errors %}<div class="text-danger small">{{ form.descricao.errors|striptags }}</div>{% endif %}
                </div>
                 <div class="row">
                    <div class="col-md-6 mb-3">
                        {{ form.status.label_tag }} {{ form.status }}
                        {% if form.status.errors %}<div class="text-danger small">{{ form.status.errors|striptags }}</div>{% endif %}
                    </div>
                     <div class="col-md-6 mb-3">
                        {{ form.custo.label_tag }} {{ form.custo }}
                         {% if form.custo.errors %}<div class="text-danger small">{{ form.custo.errors|striptags }}</div>{% endif %}
                    </div>
                </div>

                <hr>
                <div class="d-flex justify-content-end">
                    <a href="{% url 'detalhes_manutencao' manutencao.id %}" class="btn btn-secondary me-2">Cancelar</a>
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-save me-2"></i>Salvar Alterações
                    </button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}